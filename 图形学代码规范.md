# 变量命名规范
|       变量名        |               变量含义               |     规范特征     |     作用范围     |
| :-----------------: | :----------------------------------: | :--------------: | :--------------: |
|  **__canvasStack**  |          **全局画布元素栈**          | **双下划线开头** |     **全局**     |
| **__historyStack**  |          **全局历史记录栈**          | **双下划线开头** |     **全局**     |
|    **__canvas**     |           **全局画布对象**           | **双下划线开头** |     **全局**     |
| **__canvasBgColor** |            **画布背景色**            | **双下划线开头** |     **全局**     |
|    **__useGrid**    |           **是否使用网格**           | **双下划线开头** |     **全局**     |
| **__gridL_r_x_c_y** |     **横向第x条纵向第y条导向线**     | **双下划线开头** |     **全局**     |
| **__gridP_r_x_c_y** | **横向第x个纵向第y个导向线间的焦点** | **双下划线开头** |     **全局**     |
|    **__palette**    |          **调色板当前颜色**          | **双下划线开头** |     **全局**     |
|  **__currentTool**  |           **当前使用工具**           | **双下划线开头** |     **全局**     |
|   **__lineWidth**   |             **线宽选择**             | **双下划线开头** |     **全局**     |
|   **__lineType**    |             **线型选择**             | **双下划线开头** |     **全局**     |
|     **__init**      | **初始画布状态**（什么都没有的样子） | **双下划线开头** |     **全局**     |
|     deepTechTri     |              三角形对象              |   deepTech开头   |       局部       |
|    deepTechRect     |               矩形对象               |   deepTech开头   |       局部       |
|    deepTechElli     |               椭圆对象               |   deepTech开头   |       局部       |
|    deepTechLine     |               直线对象               |   deepTech开头   |       局部       |
|    deepTechMulti    |              多边形对象              |   deepTech开头   |       局部       |
|   **toolPencil**    |           **铅笔工具按钮**           |   **tool开头**   |     **全局**     |
|    **toolLine**     |           **直线工具按钮**           |   **tool开头**   |     **全局**     |
|    **toolRect**     |           **矩形工具按钮**           |   **tool开头**   |     **全局**     |
|    **toolElli**     |           **椭圆工具按钮**           |   **tool开头**   |     **全局**     |
|    **toolPoly**     |             **折线工具**             |   **tool开头**   |     **全局**     |
|     *movingEvent*     |          *鼠标移动事件对象*          |   *Event结尾*    |      *局部*      |
| *movedEvent* | *鼠标移动事件对象* |*Event结尾*|*局部*|
|     *downEvent*     |          *鼠标按住时间对象*          |   *Event结尾*    |      *局部*      |
|    *clickEvent*     |          *鼠标点击事件对象*          |   *Event结尾*    |      *局部*      |
|    *leaveEvent*     |          *鼠标离开事件对象*          |   *Event结尾*    |      *局部*      |
|      *upEvent*      |          *鼠标松开事件对象*          |   *Event结尾*    |      *局部*      |
|     *overEvent*     |          *鼠标悬浮事件对象*          |   *Event结尾*    |      *局部*      |
|     *outEvent*      |          *鼠标移开事件对象*          |   *Event结尾*    |      *局部*      |
|    currentState     |       当前画布状态（用于回溯）       |                  |       局部       |
|      EVENTLIST      |       通用画布对象监听事件数组       |                  |     **全局**     |
|   oItem (o+item)    |       图源对象数组中的单个元素       |                  | 局部（作为参数） |
|   eItem (e+item)    |       监听事件数组中的单个元素       |                  | 局部（作为参数） |

# 2019年5月22日9：24更新日志：

#### 作者：柳景兴

**1、** 添加一些方法参数的命名规范。**仅作为遍历该数组的forEach函数参数使用，禁止做其他用途**

**2、** 添加全局变量__init（双下划线开头）。当全局画布元素栈清空之后，将空画布作为元素压入栈中，**否则无法回溯到空画布状态**；

**3、** 添加全局变量EVENTLIST。虽然是全局变量但是**没有**双下划线开头；另外由于逻辑上是**静态数组**就全部字母大写，表示不会随意更改；同时也**禁止使用程序**更改这个数组，比如push、pop、shift之类的方法。这个数组用于记录表示完成时（-ed）的动作，比如moved、scaled、rotated等等。当我们需要监听所有图源对象的时候，直接遍历所有图源对象，同时对每个元素*（用到oItem作为遍历参数）*再遍历EVENTLIST中的所有事件*（用到eItem作为遍历参数）*。如果有特殊需要的对象则单独编写监听事件方法。下面给出一个通用的例子：

```javascript
var EVENTLIST = ["moved", "scaled", “skewed”, “rotated”]; 
// 只写出表示完成时(-ed)的动作 
function listenEvents() {
    画布对象.getObjects().forEach(function(oItem) {
        EVENTLIST.forEach(function(eItem) {
            oItem.on(eItem, function() {
            // 这里可以选择性地加入opt参数，获得eItem中的全部属性值
                __canvasStack.push(__canvas.toJSON());
            });
        });
    });
}

```

**4、** 添加部分功能中的局部变量命名方法。

# 2019年5月26日20：59更新日志：

#### 作者：柳景兴

**1、** 将moveEvent划为movingEvent和movedEvent，分别代表**移动中事件对象**和**移动后事件对象**。